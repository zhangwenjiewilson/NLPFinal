{"metadata": {"page_hash": "82b8cb1797418ca62b9cc0aef3c83e98881eab2f9f9161fb26d234fccc3287d8", "original_filename": "refman-8.0-en.pdf", "page_no": 3663, "num_pages": 6228, "original_width": 612, "original_height": 792, "coco_width": 1025, "coco_height": 1025, "collection": "manuals", "doc_category": "manuals"}, "form": [{"id_box": 787585, "box": [341.96812050653597, 48.370422979798036, 310.91670016339873, 11.971275252525288], "id_box_line": 0, "box_line": [341.96812050653597, 48.370422979798036, 310.91670016339873, 11.971275252525288], "text": "Handling an Unexpected Halt of a Replica", "category": "Page-header", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787586, "box": [157.4346405228758, 94.96133207070716, 746.9938892973855, 105.15309343434342], "id_box_line": 1, "box_line": [157.4346405228758, 94.96133207070716, 676.7177120098039, 11.971275252525174], "text": "source to automatically identify and retrieve missing transactions. This option is set using a ", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787586, "box": [157.4346405228758, 94.96133207070716, 746.9938892973855, 105.15309343434342], "id_box_line": 2, "box_line": [834.1523525326797, 96.11317582070706, 60.29411764705878, 10.172335542929318], "text": "CHANGE", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787586, "box": [157.4346405228758, 94.96133207070716, 746.9938892973855, 105.15309343434342], "id_box_line": 3, "box_line": [157.4346405228758, 111.64347885101006, 211.02941176470588, 10.172335542929432], "text": "REPLICATION SOURCE TO", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787586, "box": [157.4346405228758, 94.96133207070716, 746.9938892973855, 105.15309343434342], "id_box_line": 4, "box_line": [368.4640522875817, 110.49163510101016, 263.41830065359477, 11.971275252525288], "text": " statement (from MySQL 8.0.23) or ", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787586, "box": [157.4346405228758, 94.96133207070716, 746.9938892973855, 105.15309343434342], "id_box_line": 5, "box_line": [631.8823529411765, 111.64347885101006, 160.78431372549016, 10.172335542929432], "text": "CHANGE MASTER TO", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787586, "box": [157.4346405228758, 94.96133207070716, 746.9938892973855, 105.15309343434342], "id_box_line": 6, "box_line": [792.6666666666666, 110.49163510101016, 78.19807066993474, 11.971275252525288], "text": " statement", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787586, "box": [157.4346405228758, 94.96133207070716, 746.9938892973855, 105.15309343434342], "id_box_line": 7, "box_line": [157.4346405228758, 126.02193813131316, 722.390539624183, 11.971275252525288], "text": "(before MySQL 8.0.23). If the replica has multiple replication channels, you need to set this option", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787586, "box": [157.4346405228758, 94.96133207070716, 746.9938892973855, 105.15309343434342], "id_box_line": 8, "box_line": [157.4346405228758, 141.55224116161617, 734.4661450163399, 11.971275252525288], "text": "for each channel individually. For details of how GTID auto-positioning works, see Section 17.1.3.3,", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787586, "box": [157.4346405228758, 94.96133207070716, 746.9938892973855, 105.15309343434342], "id_box_line": 9, "box_line": [157.4346405228758, 157.08254419191928, 205.33498406862745, 11.971275252525174], "text": "\u201cGTID Auto-Positioning\u201d", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787586, "box": [157.4346405228758, 94.96133207070716, 746.9938892973855, 105.15309343434342], "id_box_line": 10, "box_line": [335.2017973856209, 157.08254419191928, 348.1483010620916, 11.971275252525174], "text": ". When file position based replication is in use, ", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787586, "box": [157.4346405228758, 94.96133207070716, 746.9938892973855, 105.15309343434342], "id_box_line": 11, "box_line": [683.3500984477125, 158.23438794191918, 221.07843137254883, 10.172335542929318], "text": "SOURCE_AUTO_POSITION=1", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787586, "box": [157.4346405228758, 94.96133207070716, 746.9938892973855, 105.15309343434342], "id_box_line": 12, "box_line": [157.4346405228758, 172.61284722222229, 9.0106292892157, 11.971275252525288], "text": "| ", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787586, "box": [157.4346405228758, 94.96133207070716, 746.9938892973855, 105.15309343434342], "id_box_line": 13, "box_line": [166.4452698120915, 173.76469097222218, 221.07842299836602, 10.172335542929432], "text": "MASTER_AUTO_POSITION=1", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787586, "box": [157.4346405228758, 94.96133207070716, 746.9938892973855, 105.15309343434342], "id_box_line": 14, "box_line": [387.52369281045753, 172.61284722222229, 515.7324346405228, 11.971275252525288], "text": " is not used, and instead the binary log position or relay log position is", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787586, "box": [157.4346405228758, 94.96133207070716, 746.9938892973855, 105.15309343434342], "id_box_line": 15, "box_line": [157.4346405228758, 188.1431502525253, 291.3546086601307, 11.971275252525288], "text": "used to control where replication starts.", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787587, "box": [140.68627450980392, 824.8855744949495, 766.6732193627452, 105.15309343434343], "id_box_line": 91, "box_line": [140.68627450980392, 824.8855744949495, 262.4971405228758, 11.97127525252526], "text": "For a multithreaded replica, setting ", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787587, "box": [140.68627450980392, 824.8855744949495, 766.6732193627452, 105.15309343434343], "id_box_line": 92, "box_line": [403.1834150326797, 826.0374182449495, 231.12741748366022, 10.172335542929318], "text": "relay_log_recovery = ON", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787587, "box": [140.68627450980392, 824.8855744949495, 766.6732193627452, 105.15309343434343], "id_box_line": 93, "box_line": [634.3108827614379, 824.8855744949495, 197.34597998366007, 11.97127525252526], "text": " automatically handles any", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787587, "box": [140.68627450980392, 824.8855744949495, 766.6732193627452, 105.15309343434343], "id_box_line": 94, "box_line": [140.68627450980392, 840.4158775252525, 718.7058823529412, 11.97127525252526], "text": "inconsistencies and gaps in the sequence of transactions that have been executed from the relay", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787587, "box": [140.68627450980392, 824.8855744949495, 766.6732193627452, 105.15309343434343], "id_box_line": 95, "box_line": [140.68627450980392, 855.9461805555555, 699.0767806372548, 11.97127525252526], "text": "log. These gaps can occur when file position based replication is in use. (For more details, see", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787587, "box": [140.68627450980392, 824.8855744949495, 766.6732193627452, 105.15309343434343], "id_box_line": 96, "box_line": [140.68627450980392, 871.4764835858587, 505.1139705882353, 11.971275252525231], "text": "Section 17.5.1.34, \u201cReplication and Transaction Inconsistencies\u201d", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787587, "box": [140.68627450980392, 824.8855744949495, 766.6732193627452, 105.15309343434343], "id_box_line": 97, "box_line": [618.2324346405229, 871.4764835858587, 288.5408999183006, 11.971275252525231], "text": ".) The relay log recovery process deals", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787587, "box": [140.68627450980392, 824.8855744949495, 766.6732193627452, 105.15309343434343], "id_box_line": 98, "box_line": [140.68627450980392, 887.0067866161617, 304.41831740196085, 11.971275252525245], "text": "with gaps using the same method as the ", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787587, "box": [140.68627450980392, 824.8855744949495, 766.6732193627452, 105.15309343434343], "id_box_line": 99, "box_line": [445.10459191176477, 888.1586303661616, 462.25490196078425, 10.172335542929304], "text": "START REPLICA | SLAVE UNTIL SQL_AFTER_MTS_GAPS", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787587, "box": [140.68627450980392, 824.8855744949495, 766.6732193627452, 105.15309343434343], "id_box_line": 100, "box_line": [140.68627450980392, 902.5370896464647, 755.8705065359477, 11.97127525252526], "text": "statement would. When the replica reaches a consistent gap-free state, the relay log recovery process", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787587, "box": [140.68627450980392, 824.8855744949495, 766.6732193627452, 105.15309343434343], "id_box_line": 101, "box_line": [140.68627450980392, 918.0673926767677, 750.3435625, 11.97127525252526], "text": "goes on to fetch further transactions from the source beginning at the replication SQL thread position.", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787588, "box": [140.68627450980392, 703.7491979166666, 790.3218954248366, 105.15313226010102], "id_box_line": 77, "box_line": [140.68627450980392, 703.7491979166666, 46.543709150326805, 11.971275252525288], "text": "\u2022Set ", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787588, "box": [140.68627450980392, 703.7491979166666, 790.3218954248366, 105.15313226010102], "id_box_line": 78, "box_line": [187.22998366013073, 704.9010157828284, 231.12746772875815, 10.17236142676768], "text": "relay_log_recovery = ON", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787588, "box": [140.68627450980392, 703.7491979166666, 790.3218954248366, 105.15313226010102], "id_box_line": 79, "box_line": [418.35741789215683, 703.7491979166666, 493.3064227941177, 11.971275252525288], "text": ", which enables automatic relay log recovery immediately following", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787588, "box": [140.68627450980392, 703.7491979166666, 790.3218954248366, 105.15313226010102], "id_box_line": 80, "box_line": [157.4346405228758, 719.2795009469697, 342.5543300653594, 11.971275252525231], "text": "server startup. This global variable defaults to ", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787588, "box": [140.68627450980392, 703.7491979166666, 790.3218954248366, 105.15313226010102], "id_box_line": 81, "box_line": [499.98897058823525, 720.4313188131314, 30.14705882352939, 10.17236142676768], "text": "OFF", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787588, "box": [140.68627450980392, 703.7491979166666, 790.3218954248366, 105.15313226010102], "id_box_line": 82, "box_line": [530.1360294117646, 719.2795009469697, 362.1331699346406, 11.971275252525231], "text": " and is read-only at runtime, but you can set it to ", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787588, "box": [140.68627450980392, 703.7491979166666, 790.3218954248366, 105.15313226010102], "id_box_line": 83, "box_line": [892.2691993464052, 720.4313188131314, 20.0980392156863, 10.17236142676768], "text": "ON", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787588, "box": [140.68627450980392, 703.7491979166666, 790.3218954248366, 105.15313226010102], "id_box_line": 84, "box_line": [157.4346405228758, 734.8098039772727, 62.37093178104578, 11.971275252525288], "text": "with the ", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787588, "box": [140.68627450980392, 703.7491979166666, 790.3218954248366, 105.15313226010102], "id_box_line": 85, "box_line": [219.80553880718955, 735.9616218434344, 200.98039215686273, 10.17236142676768], "text": "--relay-log-recovery", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787588, "box": [140.68627450980392, 703.7491979166666, 790.3218954248366, 105.15313226010102], "id_box_line": 86, "box_line": [420.7859644607843, 734.8098039772727, 485.953839869281, 11.971275252525288], "text": " option at replica startup following an unexpected halt of a replica.", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787588, "box": [140.68627450980392, 703.7491979166666, 790.3218954248366, 105.15313226010102], "id_box_line": 87, "box_line": [157.4346405228758, 750.3401458333333, 757.7463067810457, 11.971275252525288], "text": "Note that this setting ignores the existing relay log files, in case they are corrupted or inconsistent. The", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787588, "box": [140.68627450980392, 703.7491979166666, 790.3218954248366, 105.15313226010102], "id_box_line": 88, "box_line": [157.4346405228758, 765.8704488636364, 768.8839199346405, 11.97127525252526], "text": "relay log recovery process starts a new relay log file and fetches transactions from the source beginning", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787588, "box": [140.68627450980392, 703.7491979166666, 790.3218954248366, 105.15313226010102], "id_box_line": 89, "box_line": [157.4346405228758, 781.4007518939394, 773.5735294117648, 11.97127525252526], "text": "at the replication SQL thread position recorded in the applier metadata repository. The previous relay log", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787588, "box": [140.68627450980392, 703.7491979166666, 790.3218954248366, 105.15313226010102], "id_box_line": 90, "box_line": [157.4346405228758, 796.9310549242425, 516.5698361928104, 11.971275252525231], "text": "files are removed over time by the replica\u2019s normal purge mechanism.", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787589, "box": [140.68627450980392, 551.5522670454545, 793.2863897058824, 136.21369949494948], "id_box_line": 57, "box_line": [140.68627450980392, 551.5522670454545, 46.543709150326805, 11.971275252525288], "text": "\u2022Set ", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787589, "box": [140.68627450980392, 551.5522670454545, 793.2863897058824, 136.21369949494948], "id_box_line": 58, "box_line": [187.22998366013073, 552.704071969697, 331.6176638071895, 10.172374368686917], "text": "relay_log_info_repository = TABLE", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787589, "box": [140.68627450980392, 551.5522670454545, 793.2863897058824, 136.21369949494948], "id_box_line": 59, "box_line": [518.8476474673203, 551.5522670454545, 409.5979889705882, 11.971275252525288], "text": ", which stores the replication SQL thread position in the", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787589, "box": [140.68627450980392, 551.5522670454545, 793.2863897058824, 136.21369949494948], "id_box_line": 60, "box_line": [157.4346405228758, 568.234375, 60.29411764705884, 10.172374368686917], "text": "InnoDB", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787589, "box": [140.68627450980392, 551.5522670454545, 793.2863897058824, 136.21369949494948], "id_box_line": 61, "box_line": [217.72875816993465, 567.0825700757576, 45.62253227124185, 11.971275252525231], "text": " table ", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787589, "box": [140.68627450980392, 551.5522670454545, 793.2863897058824, 136.21369949494948], "id_box_line": 62, "box_line": [263.3512904411765, 568.234375, 261.27450980392155, 10.172374368686917], "text": "mysql.slave_relay_log_info", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787589, "box": [140.68627450980392, 551.5522670454545, 793.2863897058824, 136.21369949494948], "id_box_line": 63, "box_line": [524.625800245098, 567.0825700757576, 406.81784395424836, 11.971275252525231], "text": ", and updates it together with the transaction commit to", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787589, "box": [140.68627450980392, 551.5522670454545, 793.2863897058824, 136.21369949494948], "id_box_line": 64, "box_line": [157.4346405228758, 582.6128731060606, 682.3451797385621, 11.971275252525288], "text": "ensure a record that is always accurate. This setting is the default from MySQL 8.0, and the ", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787589, "box": [140.68627450980392, 551.5522670454545, 793.2863897058824, 136.21369949494948], "id_box_line": 65, "box_line": [839.779820261438, 583.764678030303, 40.19612867647061, 10.17237436868686], "text": "FILE", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787589, "box": [140.68627450980392, 551.5522670454545, 793.2863897058824, 136.21369949494948], "id_box_line": 66, "box_line": [879.9759489379086, 582.6128731060606, 53.99671527777775, 11.971275252525288], "text": " setting", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787589, "box": [140.68627450980392, 551.5522670454545, 793.2863897058824, 136.21369949494948], "id_box_line": 67, "box_line": [157.4346405228758, 598.1431761363638, 745.6372716503269, 11.971275252525231], "text": "is deprecated. From MySQL 8.0.23, the use of the system variable itself is deprecated, so omit it and", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787589, "box": [140.68627450980392, 551.5522670454545, 793.2863897058824, 136.21369949494948], "id_box_line": 68, "box_line": [157.4346405228758, 613.6734791666668, 175.95833333333334, 11.971275252525231], "text": "allow it to default. If the ", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787589, "box": [140.68627450980392, 551.5522670454545, 793.2863897058824, 136.21369949494948], "id_box_line": 69, "box_line": [333.39297385620915, 614.8252840909091, 40.19607843137254, 10.17237436868686], "text": "FILE", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787589, "box": [140.68627450980392, 551.5522670454545, 793.2863897058824, 136.21369949494948], "id_box_line": 70, "box_line": [373.5890522875817, 613.6734791666668, 554.7896241830065, 11.971275252525231], "text": " setting is used, which was the default in earlier releases, the information is", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787589, "box": [140.68627450980392, 551.5522670454545, 793.2863897058824, 136.21369949494948], "id_box_line": 71, "box_line": [157.4346405228758, 629.2037821969698, 769.9056372549021, 11.971275252525231], "text": "stored in a file in the data directory that is updated after the transaction has been applied. This creates a", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787589, "box": [140.68627450980392, 551.5522670454545, 793.2863897058824, 136.21369949494948], "id_box_line": 72, "box_line": [157.4346405228758, 644.7340852272728, 772.6356376633987, 11.971275252525231], "text": "risk of losing synchrony with the source depending at which stage of processing a transaction the replica", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787589, "box": [140.68627450980392, 551.5522670454545, 793.2863897058824, 136.21369949494948], "id_box_line": 73, "box_line": [157.4346405228758, 660.2643882575758, 439.3933991013072, 11.971275252525288], "text": "halts at, or even corruption of the file itself. With the setting ", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787589, "box": [140.68627450980392, 551.5522670454545, 793.2863897058824, 136.21369949494948], "id_box_line": 74, "box_line": [596.828039624183, 661.4161931818182, 321.5685772058823, 10.172374368686917], "text": "relay_log_info_repository = FILE", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787589, "box": [140.68627450980392, 551.5522670454545, 793.2863897058824, 136.21369949494948], "id_box_line": 75, "box_line": [918.3966168300653, 660.2643882575758, 4.656079248366041, 11.971275252525288], "text": ",", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787589, "box": [140.68627450980392, 551.5522670454545, 793.2863897058824, 136.21369949494948], "id_box_line": 76, "box_line": [157.4346405228758, 675.7946912878788, 202.93995098039213, 11.971275252525231], "text": "recovery is not guaranteed.", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787590, "box": [140.68627450980392, 430.41589046717183, 771.4967487745098, 105.15309343434336], "id_box_line": 37, "box_line": [140.68627450980392, 430.41589046717183, 46.543709150326805, 11.971275252525174], "text": "\u2022Set ", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787590, "box": [140.68627450980392, 430.41589046717183, 771.4967487745098, 105.15309343434336], "id_box_line": 38, "box_line": [187.22998366013073, 431.56770833333337, 321.5686441993464, 10.17236142676768], "text": "innodb_flush_log_at_trx_commit=1", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787590, "box": [140.68627450980392, 430.41589046717183, 771.4967487745098, 105.15309343434336], "id_box_line": 39, "box_line": [508.7986278594771, 430.41589046717183, 187.09597998366013, 11.971275252525174], "text": ", which synchronizes the ", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787590, "box": [140.68627450980392, 430.41589046717183, 771.4967487745098, 105.15309343434336], "id_box_line": 40, "box_line": [695.8946078431372, 431.56770833333337, 60.2941176470589, 10.17236142676768], "text": "InnoDB", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787590, "box": [140.68627450980392, 430.41589046717183, 771.4967487745098, 105.15309343434336], "id_box_line": 41, "box_line": [756.1887254901961, 430.41589046717183, 140.56901919934637, 11.971275252525174], "text": " logs to disk before", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787590, "box": [140.68627450980392, 430.41589046717183, 771.4967487745098, 105.15309343434336], "id_box_line": 42, "box_line": [157.4346405228758, 445.94619349747484, 574.3516989379085, 11.971275252525174], "text": "each transaction is committed. This setting, which is the default, ensures that ", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787590, "box": [140.68627450980392, 430.41589046717183, 771.4967487745098, 105.15309343434336], "id_box_line": 43, "box_line": [731.7863394607843, 447.0980113636364, 60.29411764705878, 10.17236142676768], "text": "InnoDB", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787590, "box": [140.68627450980392, 430.41589046717183, 771.4967487745098, 105.15309343434336], "id_box_line": 44, "box_line": [792.0804571078431, 445.94619349747484, 109.86934803921577, 11.971275252525174], "text": " tables and the", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787590, "box": [140.68627450980392, 430.41589046717183, 771.4967487745098, 105.15309343434336], "id_box_line": 45, "box_line": [157.4346405228758, 462.6283143939394, 60.29411764705884, 10.172361426767793], "text": "InnoDB", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787590, "box": [140.68627450980392, 430.41589046717183, 771.4967487745098, 105.15309343434336], "id_box_line": 46, "box_line": [217.72875816993465, 461.47649652777784, 694.454265114379, 11.971275252525288], "text": " logs are saved on disk so that there is no longer a requirement for the information in the relay", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787590, "box": [140.68627450980392, 430.41589046717183, 771.4967487745098, 105.15309343434336], "id_box_line": 47, "box_line": [157.4346405228758, 477.00679955808084, 418.9101307189543, 11.971275252525288], "text": "log regarding the transaction. Combined with the setting ", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787590, "box": [140.68627450980392, 430.41589046717183, 771.4967487745098, 105.15309343434336], "id_box_line": 48, "box_line": [576.3447712418301, 478.1586174242424, 160.78431372549016, 10.172361426767793], "text": "sync_relay_log=1", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787590, "box": [140.68627450980392, 430.41589046717183, 771.4967487745098, 105.15309343434336], "id_box_line": 49, "box_line": [737.1290849673203, 477.00679955808084, 142.4281548202614, 11.971275252525288], "text": ", this setting further", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787590, "box": [140.68627450980392, 430.41589046717183, 771.4967487745098, 105.15309343434336], "id_box_line": 50, "box_line": [157.4346405228758, 492.53710258838385, 230.90972222222226, 11.971275252525288], "text": "ensures that the content of the ", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787590, "box": [140.68627450980392, 430.41589046717183, 771.4967487745098, 105.15309343434336], "id_box_line": 51, "box_line": [388.34436274509807, 493.6889204545455, 60.29411764705884, 10.17236142676768], "text": "InnoDB", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787590, "box": [140.68627450980392, 430.41589046717183, 771.4967487745098, 105.15309343434336], "id_box_line": 52, "box_line": [448.6384803921569, 492.53710258838385, 114.52532679738556, 11.971275252525288], "text": " tables and the ", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787590, "box": [140.68627450980392, 430.41589046717183, 771.4967487745098, 105.15309343434336], "id_box_line": 53, "box_line": [563.1638071895425, 493.6889204545455, 60.2941176470589, 10.17236142676768], "text": "InnoDB", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787590, "box": [140.68627450980392, 430.41589046717183, 771.4967487745098, 105.15309343434336], "id_box_line": 54, "box_line": [623.4579248366014, 492.53710258838385, 272.76387214052295, 11.971275252525288], "text": " logs is consistent with the content of", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787590, "box": [140.68627450980392, 430.41589046717183, 771.4967487745098, 105.15309343434336], "id_box_line": 55, "box_line": [157.4346405228758, 508.06740561868696, 754.0281192810457, 11.971275252525231], "text": "the relay log at all times, so that purging the relay log files cannot cause unfillable gaps in the replica\u2019s", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787590, "box": [140.68627450980392, 430.41589046717183, 771.4967487745098, 105.15309343434336], "id_box_line": 56, "box_line": [157.4346405228758, 523.59770864899, 423.5996397058824, 11.971275252525231], "text": "history of transactions in the event of an unexpected halt.", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787591, "box": [140.68627450980392, 216.0976698232323, 792.2312426470589, 198.3349504419192], "id_box_line": 16, "box_line": [140.68627450980392, 216.0976698232323, 46.543709150326805, 11.971275252525288], "text": "\u2022Set ", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787591, "box": [140.68627450980392, 216.0976698232323, 792.2312426470589, 198.3349504419192], "id_box_line": 17, "box_line": [187.22998366013073, 217.24951357323243, 160.78433047385622, 10.172335542929204], "text": "sync_relay_log=1", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787591, "box": [140.68627450980392, 216.0976698232323, 792.2312426470589, 198.3349504419192], "id_box_line": 18, "box_line": [348.0142806372549, 216.0976698232323, 568.7577781862744, 11.971275252525288], "text": ", which instructs the replication I/O thread to synchronize the relay log to disk", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787591, "box": [140.68627450980392, 216.0976698232323, 792.2312426470589, 198.3349504419192], "id_box_line": 19, "box_line": [157.4346405228758, 231.6279728535353, 739.0887107843137, 11.971275252525288], "text": "after each received transaction is written to it. This means the replica\u2019s record of the current position", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787591, "box": [140.68627450980392, 216.0976698232323, 792.2312426470589, 198.3349504419192], "id_box_line": 20, "box_line": [157.4346405228758, 247.15827588383843, 740.0432839052288, 11.971275252525174], "text": "read from the source\u2019s binary log (in the applier metadata repository) is never ahead of the record of", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787591, "box": [140.68627450980392, 216.0976698232323, 792.2312426470589, 198.3349504419192], "id_box_line": 21, "box_line": [157.4346405228758, 262.68857891414143, 768.9509803921569, 11.971275252525174], "text": "transactions saved in the relay log. Note that although this setting is the safest, it is also the slowest due", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787591, "box": [140.68627450980392, 216.0976698232323, 792.2312426470589, 198.3349504419192], "id_box_line": 22, "box_line": [157.4346405228758, 278.21888194444443, 318.3362095588236, 11.971275252525288], "text": "to the number of disk writes involved. With ", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787591, "box": [140.68627450980392, 216.0976698232323, 792.2312426470589, 198.3349504419192], "id_box_line": 23, "box_line": [475.7708500816994, 279.37072569444456, 180.88235294117652, 10.172335542929204], "text": "sync_relay_log > 1", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787591, "box": [140.68627450980392, 216.0976698232323, 792.2312426470589, 198.3349504419192], "id_box_line": 24, "box_line": [656.6532030228759, 278.21888194444443, 28.857451388888876, 11.971275252525288], "text": ", or ", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787591, "box": [140.68627450980392, 216.0976698232323, 792.2312426470589, 198.3349504419192], "id_box_line": 25, "box_line": [685.5106041666667, 279.37072569444456, 160.78431372549016, 10.172335542929204], "text": "sync_relay_log=0", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787591, "box": [140.68627450980392, 216.0976698232323, 792.2312426470589, 198.3349504419192], "id_box_line": 26, "box_line": [846.2949178921568, 278.21888194444443, 55.83908578431374, 11.971275252525288], "text": " (where", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787591, "box": [140.68627450980392, 216.0976698232323, 792.2312426470589, 198.3349504419192], "id_box_line": 27, "box_line": [157.4346405228758, 293.74918497474744, 775.482876633987, 11.971275252525288], "text": "synchronization is handled by the operating system), in the event of an unexpected halt of a replica there", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787591, "box": [140.68627450980392, 216.0976698232323, 792.2312426470589, 198.3349504419192], "id_box_line": 28, "box_line": [157.4346405228758, 309.27948800505044, 764.2781192810457, 11.971275252525288], "text": "might be committed transactions that have not been synchronized to disk. Such transactions can cause", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787591, "box": [140.68627450980392, 216.0976698232323, 792.2312426470589, 198.3349504419192], "id_box_line": 29, "box_line": [157.4346405228758, 324.80979103535356, 752.1523190359477, 11.971275252525174], "text": "the recovery process to fail if the recovering replica, based on the information it has in the relay log as", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787591, "box": [140.68627450980392, 216.0976698232323, 792.2312426470589, 198.3349504419192], "id_box_line": 30, "box_line": [157.4346405228758, 340.34009406565656, 738.2009971405229, 11.971275252525288], "text": "last synchronized to disk, tries to retrieve and apply the transactions again instead of skipping them.", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787591, "box": [140.68627450980392, 216.0976698232323, 792.2312426470589, 198.3349504419192], "id_box_line": 31, "box_line": [157.4346405228758, 355.87039709595956, 56.793709150326805, 11.971314078282944], "text": "Setting ", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787591, "box": [140.68627450980392, 216.0976698232323, 792.2312426470589, 198.3349504419192], "id_box_line": 32, "box_line": [214.22834967320262, 357.0222408459597, 160.78431372549022, 10.17237436868686], "text": "sync_relay_log=1", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 787591, "box": [140.68627450980392, 216.0976698232323, 792.2312426470589, 198.3349504419192], "id_box_line": 33, "box_line": [375.01266339869284, 355.87039709595956, 532.3971258169934, 11.971314078282944], "text": " is particularly important for a multi-threaded replica, where the recovery", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787591, "box": [140.68627450980392, 216.0976698232323, 792.2312426470589, 198.3349504419192], "id_box_line": 34, "box_line": [157.4346405228758, 371.4007389520202, 747.5297532679739, 11.971275252525288], "text": "process fails if gaps in the sequence of transactions cannot be filled using the information in the relay", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787591, "box": [140.68627450980392, 216.0976698232323, 792.2312426470589, 198.3349504419192], "id_box_line": 35, "box_line": [157.4346405228758, 386.9310419823232, 746.5751801470587, 11.971275252525288], "text": "log. For a single-threaded replica, the recovery process only needs to use the relay log if the relevant", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787591, "box": [140.68627450980392, 216.0976698232323, 792.2312426470589, 198.3349504419192], "id_box_line": 36, "box_line": [157.4346405228758, 402.46134501262634, 456.125, 11.971275252525174], "text": "information is not available in the applier metadata repository.", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 787592, "box": [60.294117647058826, 964.6583160037878, 37.248362663398694, 11.971275252525253], "id_box_line": 102, "box_line": [60.294117647058826, 964.6583160037878, 37.248362663398694, 11.971275252525253], "text": "3634", "category": "Page-footer", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}]}