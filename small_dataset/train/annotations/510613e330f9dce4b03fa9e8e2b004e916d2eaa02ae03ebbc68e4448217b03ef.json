{"metadata": {"page_hash": "510613e330f9dce4b03fa9e8e2b004e916d2eaa02ae03ebbc68e4448217b03ef", "original_filename": "refman-8.0-en.pdf", "page_no": 1703, "num_pages": 6228, "original_width": 612, "original_height": 792, "coco_width": 1025, "coco_height": 1025, "collection": "manuals", "doc_category": "manuals"}, "form": [{"id_box": 689024, "box": [378.2869857026144, 48.370422979798036, 238.27900326797385, 11.971275252525288], "id_box_line": 0, "box_line": [378.2869857026144, 48.370422979798036, 238.27900326797385, 11.971275252525288], "text": "Optimizing SELECT Statements", "category": "Page-header", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689025, "box": [140.68627450980392, 94.96133207070716, 787.5583815359478, 120.68339646464642], "id_box_line": 1, "box_line": [140.68627450980392, 94.96133207070716, 775.3990510620915, 11.971275252525174], "text": "BNL join algorithm, the BKA join algorithm employs a join buffer to accumulate the interesting columns of", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689025, "box": [140.68627450980392, 94.96133207070716, 787.5583815359478, 120.68339646464642], "id_box_line": 2, "box_line": [140.68627450980392, 110.49163510101016, 787.5583815359478, 11.971275252525288], "text": "the rows produced by the first operand of the join operation. Then the BKA algorithm builds keys to access", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689025, "box": [140.68627450980392, 94.96133207070716, 787.5583815359478, 120.68339646464642], "id_box_line": 3, "box_line": [140.68627450980392, 126.02193813131316, 766.204214869281, 11.971275252525288], "text": "the table to be joined for all rows in the buffer and submits these keys in a batch to the database engine", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689025, "box": [140.68627450980392, 94.96133207070716, 787.5583815359478, 120.68339646464642], "id_box_line": 4, "box_line": [140.68627450980392, 141.55224116161617, 763.3067810457517, 11.971275252525288], "text": "for index lookups. The keys are submitted to the engine through the Multi-Range Read (MRR) interface", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689025, "box": [140.68627450980392, 94.96133207070716, 787.5583815359478, 120.68339646464642], "id_box_line": 5, "box_line": [140.68627450980392, 157.08254419191928, 438.9914550653595, 11.971275252525174], "text": "(see Section 8.2.1.11, \u201cMulti-Range Read Optimization\u201d", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689025, "box": [140.68627450980392, 94.96133207070716, 787.5583815359478, 120.68339646464642], "id_box_line": 6, "box_line": [552.109868872549, 157.08254419191928, 354.6467005718955, 11.971275252525174], "text": "). After submission of the keys, the MRR engine", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689025, "box": [140.68627450980392, 94.96133207070716, 787.5583815359478, 120.68339646464642], "id_box_line": 7, "box_line": [140.68627450980392, 172.61284722222229, 757.7798370098039, 11.971275252525288], "text": "functions perform lookups in the index in an optimal way, fetching the rows of the joined table found by", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689025, "box": [140.68627450980392, 94.96133207070716, 787.5583815359478, 120.68339646464642], "id_box_line": 8, "box_line": [140.68627450980392, 188.1431502525253, 771.6809640522877, 11.971275252525288], "text": "these keys, and starts feeding the BKA join algorithm with matching rows. Each matching row is coupled", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689025, "box": [140.68627450980392, 94.96133207070716, 787.5583815359478, 120.68339646464642], "id_box_line": 9, "box_line": [140.68627450980392, 203.6734532828283, 311.85459191176477, 11.971275252525288], "text": "with a reference to a row in the join buffer.", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689026, "box": [140.68627450980392, 233.79184880050514, 781.0767806372551, 43.031881313131294], "id_box_line": 10, "box_line": [140.68627450980392, 233.79184880050514, 240.18831699346407, 11.971275252525174], "text": "When BKA is used, the value of ", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689026, "box": [140.68627450980392, 233.79184880050514, 781.0767806372551, 43.031881313131294], "id_box_line": 11, "box_line": [380.874591503268, 234.94370549242421, 160.78431372549028, 10.172322601010137], "text": "join_buffer_size", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 689026, "box": [140.68627450980392, 233.79184880050514, 781.0767806372551, 43.031881313131294], "id_box_line": 12, "box_line": [541.6589052287583, 233.79184880050514, 342.5878602941175, 11.971275252525174], "text": " defines how large the batch of keys is in each", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689026, "box": [140.68627450980392, 233.79184880050514, 781.0767806372551, 43.031881313131294], "id_box_line": 13, "box_line": [140.68627450980392, 249.32215183080814, 781.0767806372551, 11.971275252525288], "text": "request to the storage engine. The larger the buffer, the more sequential access is made to the right hand", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689026, "box": [140.68627450980392, 233.79184880050514, 781.0767806372551, 43.031881313131294], "id_box_line": 14, "box_line": [140.68627450980392, 264.85245486111114, 516.6200812908496, 11.971275252525288], "text": "table of a join operation, which can significantly improve performance.", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689027, "box": [140.68627450980392, 294.97094097222225, 793.1690506535949, 58.562184343434296], "id_box_line": 15, "box_line": [140.68627450980392, 294.97094097222225, 183.41137295751633, 11.971275252525174], "text": "For BKA to be used, the ", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689027, "box": [140.68627450980392, 294.97094097222225, 793.1690506535949, 58.562184343434296], "id_box_line": 16, "box_line": [324.0976139705882, 296.12278472222226, 180.88238643790856, 10.172335542929204], "text": "batched_key_access", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 689027, "box": [140.68627450980392, 294.97094097222225, 793.1690506535949, 58.562184343434296], "id_box_line": 17, "box_line": [504.9800004084968, 294.97094097222225, 82.87093178104573, 11.971275252525174], "text": " flag of the ", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689027, "box": [140.68627450980392, 294.97094097222225, 793.1690506535949, 58.562184343434296], "id_box_line": 18, "box_line": [587.8508819444444, 296.12278472222226, 160.78431372549028, 10.172335542929204], "text": "optimizer_switch", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 689027, "box": [140.68627450980392, 294.97094097222225, 793.1690506535949, 58.562184343434296], "id_box_line": 19, "box_line": [748.6351956699347, 294.97094097222225, 185.22012949346413, 11.971275252525174], "text": " system variable must be", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689027, "box": [140.68627450980392, 294.97094097222225, 793.1690506535949, 58.562184343434296], "id_box_line": 20, "box_line": [140.68627450980392, 310.50124400252525, 45.622549019607845, 11.971275252525288], "text": "set to ", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689027, "box": [140.68627450980392, 294.97094097222225, 793.1690506535949, 58.562184343434296], "id_box_line": 21, "box_line": [186.30882352941177, 311.6530877525254, 20.09803921568627, 10.172335542929204], "text": "on", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 689027, "box": [140.68627450980392, 294.97094097222225, 793.1690506535949, 58.562184343434296], "id_box_line": 22, "box_line": [206.40686274509804, 310.50124400252525, 185.23692810457518, 11.971275252525288], "text": ". BKA uses MRR, so the ", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689027, "box": [140.68627450980392, 294.97094097222225, 793.1690506535949, 58.562184343434296], "id_box_line": 23, "box_line": [391.6437908496732, 311.6530877525254, 30.14705882352939, 10.172335542929204], "text": "mrr", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 689027, "box": [140.68627450980392, 294.97094097222225, 793.1690506535949, 58.562184343434296], "id_box_line": 24, "box_line": [421.7908496732026, 310.50124400252525, 135.91297344771237, 11.971275252525288], "text": " flag must also be ", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689027, "box": [140.68627450980392, 294.97094097222225, 793.1690506535949, 58.562184343434296], "id_box_line": 25, "box_line": [557.703823120915, 311.6530877525254, 20.0980392156863, 10.172335542929204], "text": "on", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 689027, "box": [140.68627450980392, 294.97094097222225, 793.1690506535949, 58.562184343434296], "id_box_line": 26, "box_line": [577.8018623366013, 310.50124400252525, 337.86475408496733, 11.971275252525288], "text": ". Currently, the cost estimation for MRR is too", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689027, "box": [140.68627450980392, 294.97094097222225, 793.1690506535949, 58.562184343434296], "id_box_line": 27, "box_line": [140.68627450980392, 326.03154703282826, 319.24058782679737, 11.971275252525288], "text": "pessimistic. Hence, it is also necessary for ", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689027, "box": [140.68627450980392, 294.97094097222225, 793.1690506535949, 58.562184343434296], "id_box_line": 28, "box_line": [459.9268623366013, 327.1833907828284, 140.68627450980398, 10.172335542929204], "text": "mrr_cost_based", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 689027, "box": [140.68627450980392, 294.97094097222225, 793.1690506535949, 58.562184343434296], "id_box_line": 29, "box_line": [600.6131368464053, 326.03154703282826, 46.56042401960781, 11.971275252525288], "text": " to be ", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689027, "box": [140.68627450980392, 294.97094097222225, 793.1690506535949, 58.562184343434296], "id_box_line": 30, "box_line": [647.1736111111112, 327.1833907828284, 30.14705882352939, 10.172335542929204], "text": "off", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 689027, "box": [140.68627450980392, 294.97094097222225, 793.1690506535949, 58.562184343434296], "id_box_line": 31, "box_line": [677.3206699346406, 326.03154703282826, 253.21851225490184, 11.971275252525288], "text": " for BKA to be used. The following", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689027, "box": [140.68627450980392, 294.97094097222225, 793.1690506535949, 58.562184343434296], "id_box_line": 32, "box_line": [140.68627450980392, 341.56185006313126, 155.47508169934645, 11.971275252525288], "text": "setting enables BKA:", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689028, "box": [140.68627450980392, 398.3639463383838, 431.890114379085, 11.971275252525288], "id_box_line": 35, "box_line": [140.68627450980392, 398.3639463383838, 431.890114379085, 11.971275252525288], "text": "There are two scenarios by which MRR functions execute:", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689029, "box": [140.68627450980392, 370.42104861111113, 627.0588067810459, 8.137827020202053], "id_box_line": 33, "box_line": [140.68627450980392, 370.42104861111113, 56.274509803921575, 8.137827020202053], "text": "mysql> ", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 8}}, {"id_box": 689029, "box": [140.68627450980392, 370.42104861111113, 627.0588067810459, 8.137827020202053], "id_box_line": 34, "box_line": [196.9607843137255, 370.42104861111113, 570.7842969771242, 8.137827020202053], "text": "SET optimizer_switch=\u2019mrr=on,mrr_cost_based=off,batched_key_access=on\u2019;", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier-Bold", "size": 8}}, {"id_box": 689030, "box": [140.68627450980392, 718.3813317550505, 768.8337250816994, 27.50157828282829], "id_box_line": 59, "box_line": [140.68627450980392, 718.3813317550505, 768.8337250816994, 11.971275252525231], "text": "With the first scenario, a portion of the join buffer is reserved to store row IDs (primary keys) selected by", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689030, "box": [140.68627450980392, 718.3813317550505, 768.8337250816994, 27.50157828282829], "id_box_line": 60, "box_line": [140.68627450980392, 733.9116347853535, 476.624983251634, 11.971275252525288], "text": "index lookups and passed as a parameter to the MRR functions.", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689031, "box": [140.68627450980392, 764.0301208964647, 786.6205735294118, 27.501578282828262], "id_box_line": 61, "box_line": [140.68627450980392, 764.0301208964647, 786.6205735294118, 11.971275252525231], "text": "There is no special buffer to store keys built for rows from the join buffer. Instead, a function that builds the", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689031, "box": [140.68627450980392, 764.0301208964647, 786.6205735294118, 27.501578282828262], "id_box_line": 62, "box_line": [140.68627450980392, 779.5604239267677, 597.6319276960785, 11.97127525252526], "text": "key for the next row in the buffer is passed as a parameter to the MRR functions.", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689032, "box": [140.68627450980392, 809.6788194444445, 739.6413398692812, 27.50157828282829], "id_box_line": 63, "box_line": [140.68627450980392, 809.6788194444445, 18.624174632352947, 11.97127525252526], "text": "In ", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689032, "box": [140.68627450980392, 809.6788194444445, 739.6413398692812, 27.50157828282829], "id_box_line": 64, "box_line": [159.31044914215687, 810.8306631944445, 70.34314562908497, 10.172335542929318], "text": "EXPLAIN", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 689032, "box": [140.68627450980392, 809.6788194444445, 739.6413398692812, 27.50157828282829], "id_box_line": 65, "box_line": [229.65359477124184, 809.6788194444445, 383.57109517973856, 11.97127525252526], "text": " output, use of BKA for a table is signified when the ", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689032, "box": [140.68627450980392, 809.6788194444445, 739.6413398692812, 27.50157828282829], "id_box_line": 66, "box_line": [613.2246899509804, 810.8306631944445, 50.24509803921569, 10.172335542929318], "text": "Extra", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 689032, "box": [140.68627450980392, 809.6788194444445, 739.6413398692812, 27.50157828282829], "id_box_line": 67, "box_line": [663.4697879901961, 809.6788194444445, 116.36768055555558, 11.97127525252526], "text": " value contains ", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689032, "box": [140.68627450980392, 809.6788194444445, 739.6413398692812, 27.50157828282829], "id_box_line": 68, "box_line": [779.8374183006537, 810.8306631944445, 100.49019607843138, 10.172335542929318], "text": "Using join", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 689032, "box": [140.68627450980392, 809.6788194444445, 739.6413398692812, 27.50157828282829], "id_box_line": 69, "box_line": [140.68627450980392, 826.3609662247475, 271.3235294117647, 10.172335542929318], "text": "buffer (Batched Key Access)", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 689032, "box": [140.68627450980392, 809.6788194444445, 739.6413398692812, 27.50157828282829], "id_box_line": 70, "box_line": [412.0098039215686, 825.2091224747475, 65.18460702614385, 11.97127525252526], "text": " and the ", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689032, "box": [140.68627450980392, 809.6788194444445, 739.6413398692812, 27.50157828282829], "id_box_line": 71, "box_line": [477.19441094771247, 826.3609662247475, 40.19607843137254, 10.172335542929318], "text": "type", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 689032, "box": [140.68627450980392, 809.6788194444445, 739.6413398692812, 27.50157828282829], "id_box_line": 72, "box_line": [517.390539624183, 825.2091224747475, 66.08903553921573, 11.97127525252526], "text": " value is ", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689032, "box": [140.68627450980392, 809.6788194444445, 739.6413398692812, 27.50157828282829], "id_box_line": 73, "box_line": [583.4795751633987, 826.3609662247475, 30.14705882352939, 10.172335542929318], "text": "ref", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 689032, "box": [140.68627450980392, 809.6788194444445, 739.6413398692812, 27.50157828282829], "id_box_line": 74, "box_line": [613.6266339869281, 825.2091224747475, 24.201422385620845, 11.97127525252526], "text": " or ", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689032, "box": [140.68627450980392, 809.6788194444445, 739.6413398692812, 27.50157828282829], "id_box_line": 75, "box_line": [637.828006127451, 826.3609662247475, 60.2941176470589, 10.172335542929318], "text": "eq_ref", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 689032, "box": [140.68627450980392, 809.6788194444445, 739.6413398692812, 27.50157828282829], "id_box_line": 76, "box_line": [698.1221237745099, 825.2091224747475, 4.656045751633883, 11.97127525252526], "text": ".", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689033, "box": [140.68627450980392, 886.9990473484849, 787.2904579248366, 43.03188001893939], "id_box_line": 78, "box_line": [140.68627450980392, 886.9990473484849, 173.17808782679742, 11.971273958333327], "text": "In addition to using the ", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689033, "box": [140.68627450980392, 886.9990473484849, 787.2904579248366, 43.03188001893939], "id_box_line": 79, "box_line": [313.86436233660135, 888.1508910984849, 160.78431372549016, 10.172334248737357], "text": "optimizer_switch", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 689033, "box": [140.68627450980392, 886.9990473484849, 787.2904579248366, 43.03188001893939], "id_box_line": 80, "box_line": [474.6486760620915, 886.9990473484849, 453.32805637254904, 11.971273958333327], "text": " system variable to control optimizer use of the BNL and BKA", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689033, "box": [140.68627450980392, 886.9990473484849, 787.2904579248366, 43.03188001893939], "id_box_line": 81, "box_line": [140.68627450980392, 902.529349084596, 761.3974505718954, 11.971275252525245], "text": "algorithms session-wide, MySQL supports optimizer hints to influence the optimizer on a per-statement", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689033, "box": [140.68627450980392, 886.9990473484849, 787.2904579248366, 43.03188001893939], "id_box_line": 82, "box_line": [140.68627450980392, 918.059652114899, 343.1070093954248, 11.971275252525245], "text": "basis. See Section 8.9.3, \u201cOptimizer Hints\u201d", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689033, "box": [140.68627450980392, 886.9990473484849, 787.2904579248366, 43.03188001893939], "id_box_line": 83, "box_line": [456.22547344771243, 918.059652114899, 4.65604575163394, 11.971275252525245], "text": ".", "category": "Text", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689034, "box": [140.68627450980392, 426.8361685606061, 785.6490510620915, 120.68339646464642], "id_box_line": 36, "box_line": [140.68627450980392, 426.8361685606061, 602.2712585784313, 11.971275252525174], "text": "\u2022The first scenario is used for conventional disk-based storage engines such as ", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689034, "box": [140.68627450980392, 426.8361685606061, 785.6490510620915, 120.68339646464642], "id_box_line": 37, "box_line": [742.9575330882353, 427.98798642676775, 60.29411764705878, 10.172361426767566], "text": "InnoDB", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 689034, "box": [140.68627450980392, 426.8361685606061, 785.6490510620915, 120.68339646464642], "id_box_line": 38, "box_line": [803.2516507352941, 426.8361685606061, 37.248349264705894, 11.971275252525174], "text": " and ", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689034, "box": [140.68627450980392, 426.8361685606061, 785.6490510620915, 120.68339646464642], "id_box_line": 39, "box_line": [840.5, 427.98798642676775, 60.294067401960774, 10.172361426767566], "text": "MyISAM", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 689034, "box": [140.68627450980392, 426.8361685606061, 785.6490510620915, 120.68339646464642], "id_box_line": 40, "box_line": [900.7940674019608, 426.8361685606061, 4.65609599673212, 11.971275252525174], "text": ".", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689034, "box": [140.68627450980392, 426.8361685606061, 785.6490510620915, 120.68339646464642], "id_box_line": 41, "box_line": [157.4346405228758, 442.3664715909091, 756.7748848039215, 11.971275252525288], "text": "For these engines, usually the keys for all rows from the join buffer are submitted to the MRR interface", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689034, "box": [140.68627450980392, 426.8361685606061, 785.6490510620915, 120.68339646464642], "id_box_line": 42, "box_line": [157.4346405228758, 457.8967746212121, 749.3051638071895, 11.971275252525288], "text": "at once. Engine-specific MRR functions perform index lookups for the submitted keys, get row IDs (or", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689034, "box": [140.68627450980392, 426.8361685606061, 785.6490510620915, 120.68339646464642], "id_box_line": 43, "box_line": [157.4346405228758, 473.4270776515151, 764.2112598039215, 11.971275252525288], "text": "primary keys) from them, and then fetch rows for all these selected row IDs one by one by request from", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689034, "box": [140.68627450980392, 426.8361685606061, 785.6490510620915, 120.68339646464642], "id_box_line": 44, "box_line": [157.4346405228758, 488.9573806818182, 764.2446895424836, 11.971275252525174], "text": "BKA algorithm. Every row is returned with an association reference that enables access to the matched", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689034, "box": [140.68627450980392, 426.8361685606061, 785.6490510620915, 120.68339646464642], "id_box_line": 45, "box_line": [157.4346405228758, 504.4876837121212, 768.9006850490196, 11.971275252525231], "text": "row in the join buffer. The rows are fetched by the MRR functions in an optimal way: They are fetched in", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689034, "box": [140.68627450980392, 426.8361685606061, 785.6490510620915, 120.68339646464642], "id_box_line": 46, "box_line": [157.4346405228758, 520.0179867424242, 759.5048684640523, 11.971275252525288], "text": "the row ID (primary key) order. This improves performance because reads are in disk order rather than", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689034, "box": [140.68627450980392, 426.8361685606061, 785.6490510620915, 120.68339646464642], "id_box_line": 47, "box_line": [157.4346405228758, 535.5482897727272, 105.17973856209156, 11.971275252525231], "text": "random order.", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689035, "box": [140.68627450980392, 564.0205119949495, 787.5583815359478, 136.21369949494948], "id_box_line": 48, "box_line": [140.68627450980392, 564.0205119949495, 501.7475322712418, 11.971275252525231], "text": "\u2022The second scenario is used for remote storage engines such as ", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689035, "box": [140.68627450980392, 564.0205119949495, 787.5583815359478, 136.21369949494948], "id_box_line": 49, "box_line": [642.4338067810457, 565.1723298611112, 30.147058823529505, 10.17236142676768], "text": "NDB", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Courier", "size": 10}}, {"id_box": 689035, "box": [140.68627450980392, 564.0205119949495, 787.5583815359478, 136.21369949494948], "id_box_line": 50, "box_line": [672.5808656045753, 564.0205119949495, 240.188316993464, 11.971275252525231], "text": ". A package of keys for a portion", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689035, "box": [140.68627450980392, 564.0205119949495, 787.5583815359478, 136.21369949494948], "id_box_line": 51, "box_line": [157.4346405228758, 579.5508150252525, 737.2295584150327, 11.971275252525231], "text": "of rows from the join buffer, together with their associations, is sent by a MySQL Server (SQL node)", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689035, "box": [140.68627450980392, 564.0205119949495, 787.5583815359478, 136.21369949494948], "id_box_line": 52, "box_line": [157.4346405228758, 595.0811180555555, 737.2797532679739, 11.971275252525288], "text": "to MySQL Cluster data nodes. In return, the SQL node receives a package (or several packages) of", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689035, "box": [140.68627450980392, 564.0205119949495, 787.5583815359478, 136.21369949494948], "id_box_line": 53, "box_line": [157.4346405228758, 610.6114210858586, 756.7748848039215, 11.971275252525231], "text": "matching rows coupled with corresponding associations. The BKA join algorithm takes these rows and", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689035, "box": [140.68627450980392, 564.0205119949495, 787.5583815359478, 136.21369949494948], "id_box_line": 54, "box_line": [157.4346405228758, 626.1417241161616, 770.8100155228758, 11.971275252525288], "text": "builds new joined rows. Then a new set of keys is sent to the data nodes and the rows from the returned", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689035, "box": [140.68627450980392, 564.0205119949495, 787.5583815359478, 136.21369949494948], "id_box_line": 55, "box_line": [157.4346405228758, 641.6720271464646, 732.6070931372549, 11.971275252525231], "text": "packages are used to build new joined rows. The process continues until the last keys from the join", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689035, "box": [140.68627450980392, 564.0205119949495, 787.5583815359478, 136.21369949494948], "id_box_line": 56, "box_line": [157.4346405228758, 657.2023301767676, 748.5180408496732, 11.971275252525288], "text": "buffer are sent to the data nodes, and the SQL node has received and joined all rows matching these", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689035, "box": [140.68627450980392, 564.0205119949495, 787.5583815359478, 136.21369949494948], "id_box_line": 57, "box_line": [157.4346405228758, 672.7326332070706, 741.9190841503267, 11.971275252525231], "text": "keys. This improves performance because fewer key-bearing packages sent by the SQL node to the", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689035, "box": [140.68627450980392, 564.0205119949495, 787.5583815359478, 136.21369949494948], "id_box_line": 58, "box_line": [157.4346405228758, 688.2629362373737, 714.9877785947713, 11.971275252525288], "text": "data nodes means fewer round trips between it and the data nodes to perform the join operation.", "category": "List-item", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}, {"id_box": 689036, "box": [60.294117647058826, 855.504861111111, 665.4092320261439, 13.16837689393941], "id_box_line": 77, "box_line": [60.294117647058826, 855.504861111111, 665.4092320261439, 13.16837689393941], "text": "Optimizer Hints for Block Nested-Loop and Batched Key Access Algorithms", "category": "Section-header", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica-Bold", "size": 11}}, {"id_box": 689037, "box": [60.294117647058826, 964.6583160037878, 37.248362663398694, 11.971275252525253], "id_box_line": 84, "box_line": [60.294117647058826, 964.6583160037878, 37.248362663398694, 11.971275252525253], "text": "1674", "category": "Page-footer", "words": [], "linking": [], "font": {"color": [0, 0, 0, 255], "name": "/Helvetica", "size": 10}}]}